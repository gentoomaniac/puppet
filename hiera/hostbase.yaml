---
classes:
  - hostbase::autoupdate
  - hostbase::puppet
  - hostbase::puppet_cron
  - hostbase::sshd
  - hostbase::syslog
  - hostbase::github_userkeys
  - hostbase::dotfiles
  - timezone

hostbase::puppet::version: 6.9.0

hostbase::packages::base_packages:
  - mailutils
  - vim-nox
  - git
  - python3-virtualenv
  - python3-pip
  - hwinfo

github_userkeys:
  "marco": gentoomaniac
  "root": gentoomaniac

timezone::timezone: Etc/UTC

ressources:
  group:
    "marco":
      ensure: present
      gid: 1000
      before: User[marco]
  user:
    "ubuntu":
      ensure: absent
      before: User[marco]
    "marco":
      ensure: present
      uid: 1000
      gid: marco
      home: /home/marco
      shell: /bin/bash
      managehome: true
      groups:
        - sudo
        - adm
      purge_ssh_keys: true
  file:
    "/etc/cloud/cloud.cfg.d/99-disable-network-config.cfg":
      ensure: file
      content: "network: {config: disabled}"
    "/etc/cloud/cloud-init.disabled":
      ensure: file
