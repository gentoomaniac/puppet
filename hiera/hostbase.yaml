---
classes:
  - apt
  - hostbase::autoupdate
  #  - hostbase::disable_cloud
  - hostbase::dotfiles
  - hostbase::github_userkeys
  - hostbase::hosts
  - hostbase::metricbeat
  - hostbase::puppet
  - hostbase::puppet_cron
  - hostbase::resolved
  - hostbase::sshd
  - hostbase::syslog
  - timezone

hostbase::puppet::version: latest

hostbase::packages::base_packages:
  - mailutils
  - vim-nox
  - git
  - python3-virtualenv
  - python3-pip
  - hwinfo

hostbase::metricbeat::es_host: elasticsearch.srv.gentoomaniac.net
hostbase::metricbeat::es_port: 9200

github_userkeys:
  "marco": gentoomaniac
  "root": gentoomaniac

timezone::timezone: Etc/UTC

dns::servers:
  - 10.1.1.52
  - 10.1.1.53

apt::sources:
  "puppet6":
    location: http://apt.puppetlabs.com
    release: "%{facts.os.distro.codename}"
    repos: puppet6
    key:
      id: "6F6B15509CF8E59E6E469F327F438280EF8D349F"
      server: keyserver.ubuntu.com
  "elasticsearch7x":
    location: https://artifacts.elastic.co/packages/7.x/apt
    release: stable
    repos: main
    key:
      id: "46095ACC8548582C1A2699A9D27D666CD88E42B4"
      server: keyserver.ubuntu.com

ressources:
  group:
    "marco":
      ensure: present
      gid: 1000
      before: User[marco]
  user:
    "ubuntu":
      ensure: absent
      before: User[marco]
    "marco":
      ensure: present
      uid: 1000
      gid: marco
      home: /home/marco
      shell: /bin/bash
      managehome: true
      groups:
        - sudo
        - adm
      purge_ssh_keys: true
