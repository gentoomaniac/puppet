---
ressources:
  cron::job:
    'puppet-cron':
      command: 'puppet apply --config /home/marco/git/puppet/puppet.conf -vt /home/marco/git/puppet/manifests/site.pp'
      minute: '*/30'
      hour: '*'
      date: '*'
      month: '*'
      weekday: '*'
      user: root
      environment:
        - 'MAILTO=root'
        - 'PATH="/usr/bin:/bin"'
      description: 'Run Puppet every 30 min'

  file:
    '50unattended-upgrades':
      ensure: file
      path: /etc/apt/apt.conf.d/50unattended-upgrades
      source: 'puppet:///modules/hostbase/50unattended-upgrades'
      require: Package[unattended-upgrades]

  package:
    'unattended-upgrades':
      ensure: latest
