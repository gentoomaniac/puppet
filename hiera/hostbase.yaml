---
ressources:
  cron::job:
    'puppet-cron':
      command: 'puppet apply --config /home/marco/git/puppet/puppet.conf -vt /home/marco/git/puppet/manifests/site.pp'
      minute: '*/30'
      hour: '*'
      date: '*'
      month: '*'
      weekday: '*'
      user: root
      environment:
        - 'MAILTO=root'
        - 'PATH="/usr/bin:/bin"'
      description: 'Run Puppet every 30 min'

  file:
    '50unattended-upgrades':
      ensure: file
      path: /etc/apt/apt.conf.d/50unattended-upgrades
      source: 'puppet:///modules/hostbase/50unattended-upgrades'
      require: Package[unattended-upgrades]

  package:
    'unattended-upgrades':
      ensure: latest
    'mailutils':
      ensure: latest
    'vim-nox':
      ensure: latest
    'git':
      ensure: latest

  user:
    'marco':
      ensure: present
      uid: 1000
      gid: 1000
      home: /home/marco
      shell: /bin/bash
      managehome: true
      groups:
        - sudo
      purge_ssh_keys: true

  ssh_authorized_key:
    'marco@gentoobox':
      ensure: present
      user: marco
      type: ssh-rsa
      key: AAAAB3NzaC1yc2EAAAADAQABAAACAQDVF2/g5C/6rLt9S24Q5Mwb4g2uheXWOOv3rvZ6doKdW+ZDLR/XpBYBPFB8kMEBtwNo56I4PpqClaiR1sv98LiVU08FUJjyL5getlz2/JMHShOfoXRlpu5BToReTcewXSfIIq0Siid0DcE/XKtoDuyIwJb8bY8FNwpdUlpvEnkkjqxlbREaMJ9QYCsmp9BhYUeVP5vcZayiuloZZ05qWYYrgfTDQDNOL9QsMgZKYUezlAsSi0/39q4UB1PkKqpbT22hND4PlTonschUs1JmTq5yAkdf78RGSZ2hzt1gTvEq9kgkAA+XUUv6kIzUm8biEr5DCI/zyltqMiN25I+3iNawEShJXVEDLrJquPEcMdLllzvs7UFkaHy+wIcci9L56HPekmQx1qOe8Reqoy5EVSxBYQhW+2R4X5YLF9zJVfD0wsbV2z1NV9eUDRWKe1h+bOiFc+RZ38MR8V6/AdTiEgnGE8ooXsvaLDVh7WtgKQEm19VkMNT2J8Rbh/CerGTrrqDqL3jH7uewrGaE17qEL+PtEQsO+BYgaW5NRHE6XbYoVcfjCSvZZn9hnt9/itkgbdtbT8AyFduBBhBA6fY+pBSf5SZmVKpJPoaG/w2TeCfRxoIKc2X8VZfsHHXnkJ0JRKIwVi208ctW+k0fHWpdaYdMKIQQJi1jc/1YzzOHWOFDHQ==
      require: User[marco]
